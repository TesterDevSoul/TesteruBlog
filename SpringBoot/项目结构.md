# SpringBoot项目的结构介绍

使用`Spring Initializr`方式构建的`Spring Boot`项目会默认生成**项目启动类**、存放**前端静态资源**和**页面的文件夹**、编写项目配置的**配置文件**以及进行项目**单元测试的测试类**。

![](https://cdn.jsdelivr.net/gh/TesterDevSoul/blog_pic/springboot/20230321115139.png)


## POM文件

### `<parent>`

`SpringBoot`项目必须继承`spring-boot-starter-parent`，即所有的`SpringBoot`项目都是`spring-boot-starter-parent`的子项目。

`spring-boot-starter-parent`中定义了**常用配置**、**依赖**、**插件**等信息，供`SpringBoot`项目继承使用。

```xml
<parent>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-parent</artifactId>
    <version>3.0.4</version>
    <relativePath/> <!-- lookup parent from repository -->
</parent>
```

它可以提供 `dependency management`,也就是说**依赖管理**，引入以后在申明其它`springframework dependency` 的时候就不需要 `version` 了。

### `<dependency>`

`SpringBoot`项目中可以定义起步依赖，起步依赖不是以`jar`包为单位，而是以**功能**为单位。

```xml
<dependencies>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    <dependency>
        <groupId>com.mysql</groupId>
        <artifactId>mysql-connector-j</artifactId>
        <scope>runtime</scope>
    </dependency>
    <dependency>
        <groupId>org.projectlombok</groupId>
        <artifactId>lombok</artifactId>
        <optional>true</optional>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-test</artifactId>
        <scope>test</scope>
    </dependency>
</dependencies>
```
#### spring-boot-starter-web

因为开发的是`Web`工程，所以需要在`pom.xml`中引入`spring-boot-starter-web`。

`spring-boot-start-web`包含了 `Spring Web MVC` 和 `Tomcat` 等`web`开发的特性。

#### spring-boot-starter-web

它包含了 Spring Boot 项目中常用的测试框架和工具，用于简化测试的编写和执行。

该依赖主要包含以下功能：

- `JUnit`：Java 测试框架，用于编写单元测试。

- `Spring Test`：`Spring` 框架中的测试模块，提供了 `Spring ApplicationContext` 和 `Bean` 的测试支持。

- `AssertJ`：一个流畅的断言库，用于编写更易读的断言语句。

- `Hamcrest`：另一个流行的断言库，用于编写更灵活的断言语句。

- `Mockito`：一个 `Java Mock` 测试框架，用于模拟对象和依赖，简化测试。

- `JSONassert`：用于测试 `JSON` 数据的断言库。

使用 `spring-boot-starter-test` 依赖可以让开发者方便地进行**单元测试**、**集成测试**和**端到端测试**，减少测试代码的编写和维护成本。同时，该依赖也提供了一些方便的测试工具，例如 `TestRestTemplat`e 和 `MockMvc`，可用于测试 `Spring Boot` 应用的 `Web` 层和 `HTTP API` 。

#### lombok

Lombok 插件所需要的依赖。

#### mysql

数据库为mysql的连接依赖。

### `<plugin>`

3. `spring-boot-maven-plugin`插件是将项目打包成`jar`包的插件。 该插件打包后的`SpringBoot`项目无需依赖`web`容器，可以直接使用`JDK`运行。

```xml
<build>
    <plugins>
        <plugin>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-maven-plugin</artifactId>
            <configuration>
                <excludes>
                    <exclude>
                        <groupId>org.projectlombok</groupId>
                        <artifactId>lombok</artifactId>
                    </exclude>
                </excludes>
            </configuration>
        </plugin>
    </plugins>
</build>
```



## 启动类

>注意⚠️:项目启动类`MiniApplication`在`top.testeru.mini`包下。

启动类的作用是启动`SpringBoot`项目，运行启动类的`main`方法即可启动`SpringBoot`项目。

```java
package top.testeru.mini;

@SpringBootApplication
public class MiniApplication {
    public static void main(String[] args) {
        SpringApplication.run(MiniApplication.class, args);
    }
}
```

启动`Spring`应用程序，然后启动嵌入式服务器并运行应用程序。

`SpringApplication.run()`会在应用程序类的 `main` 方法中被调用，它接受两个参数：**应用程序类**和**命令行参数**。

当调用 `SpringApplication.run()` 方法时，它会**执行多个任务**，如配置应用程序上下文、启动嵌入式服务器、加载 `Spring bean`，并运行应用程序。

它还会自动进行类路径扫描，扫描当前类及其子类以查找任何 `Spring` 组件，并为应用程序设置默认配置。

### @SpringBootApplication

这是一个组合后的注解，相当于声明了`@Configuration`、`@EnableAutoConfiguration` 和`@ComponentScan`。


## 配置文件

由于`SpringBoot`极大简化了`Spring`配置，所以只有一个`application.properties`配置文件。

`Spring`的自动配置功能使得大部分的配置都有默认配置，`application.properties`配置文件的功能是覆盖默认配置信息，文件内不写任何信息都可以启动项目。

启动后**默认端口号为8080**。


# 学习反馈

1. SpringBoot项目的父工程为( )。

   - [x] A. `spring-boot-starter-parent`
   - [ ] B.`spring-boot-starter-web`
   - [ ] C. `spring-boot-starter-father`
   - [ ] D. `spring-boot-starter-super`


2. SpringBoot启动类需要添加的注解是( )。

   - [ ] A. `@Application`
   - [x] B. `@SpringBootApplication`
   - [ ] C. `@SpringBoot`
   - [ ] D. `@App`

3. 以下是SpringBoot配置文件的是( )。

   - [ ] A. `applicationContext.xml`
   - [ ] B. `SqlMapConfig.xml`
   - [ ] C. `springmvc.xml`
   - [x] D. `application.properties`

4. SpringBoot启动类中，主方法执行的代码是( )。

   - [ ] A. `Application.run()`
   - [ ] B. `Application.start()`
   - [x] C. `SpringApplication.run()`
   - [ ] D. `SpringApplication.start()`